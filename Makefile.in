SRC_DIR = ./src
ASM_SRC = $(wildcard $(SRC_DIR)/*.asm)
OUT_FILE = cheat
OBJ_FILES = $(ASM_SRC:.asm=.o)
LD_FLAGS = -o$(OUT_FILE)
ASM_FLAGS = -fmacho64

CC = @CC@
NASM = @NASM@
RM = @RM@
patch =  @PATCH@

all: build

build: cheat

cheat: $(OBJ_FILES)
	$(CC) -o $@ $^

%.o: %.asm
	$(NASM) $(ASM_FLAGS) -o $@ $<

clean:
	$(RM) -f $(OBJ_FILES) $(OUT_FILE)

clean-all: clean
	$(RM) -f Makefile configure config.log config.status
	$(RM) -rf autom4te.cache

.PHONY: all build clean clean-all
